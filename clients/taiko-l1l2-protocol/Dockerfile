FROM gcr.io/evmchain/internal-devnet-protocol:latest

#ENV PRIVATE_KEY='0xf214f2b2cd398c806f84e317254e0f0b801d0643303237d97a22a48e01628897'
#ENV PROTOCOL_LAYER=L1
#ENV LOG_LEVEL=debug
#ENV PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
#ENV PROPOSER=0x0000000000000000000000000000000000000000
#ENV PROPOSER_ONE=0x0000000000000000000000000000000000000000
#ENV GUARDIAN_PROVERS="0x1000777700000000000000000000000000000001,0x1000777700000000000000000000000000000002,0x1000777700000000000000000000000000000003,0x1000777700000000000000000000000000000004,0x1000777700000000000000000000000000000005"
#ENV MIN_GUARDIANS=3
#ENV TAIKO_L2_ADDRESS=0x1000777700000000000000000000000000000001
#ENV L2_SIGNAL_SERVICE=0x1000777700000000000000000000000000000007
#ENV SECURITY_COUNCIL=0x60997970C51812dc3A010C7d01b50e0d17dc79C8
#ENV TAIKO_TOKEN_PREMINT_RECIPIENT=0xa0Ee7A142d267C1f36714E4a8F75612F20a79720
#ENV TAIKO_TOKEN_NAME="Taiko Token Katla"
#ENV TAIKO_TOKEN_SYMBOL=TTKOk
#ENV SHARED_ADDRESS_MANAGER=0x0000000000000000000000000000000000000000
#ENV L2_GENESIS_HASH=0xee1950562d42f0da28bd4550d88886bc90894c77c9c9eaefef775d4c8223f259

ENV PATH="/root/.foundry/bin:${PATH}"

RUN apt-get update
RUN apt-get install -y netcat-traditional

COPY saved_env.txt /saved_env.txt
COPY ./start.sh /start.sh

RUN chmod u+x /start.sh

ENTRYPOINT ["/start.sh"]